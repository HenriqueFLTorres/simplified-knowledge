---
title: 'Clean Code: Controvérsias do DRY code e o Monstro da Abstração errada'
postImage: 'https://images.unsplash.com/photo-1517487728715-4713140dcac0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80'
postedOn: '6 2 2022 20:10'
editedOn: '6 2 2022 20:10'
postTags: ['Clean Code']
readTimeInMinutes: '3'
englishLanguage: false
postURL: 'controversias-dry-code'
alternativeLanguageURL: 'dry-code-controversies'
---

import { CodeFragment, Highlight } from '@components/shared';
import { Link } from '@remix-run/react';

## {attributes.title}

<img
  src={attributes.mainImage}
  alt=''
  title='Imagem de David Jorre'
  className='MainImage'
/>

seguido por grande parte da comunidade de programação e consiste basicamente em fazer abstrações para
evitar repetições, não se preocupe se ficou um pouco confuso, durante este post vamos detalhar essas definições
DRY, "Don't repeat yourself" ou "Não se repita", é um princípio no desenvolvimento de software que vem sendo

<Link to={`/blog/${attributes.alternativeLanguageURL}`}>
  <div>English Article</div>
</Link>
e conceitos.

### Por que é tão usado?

Como você pode imaginar, a técnica é usada para nos impedir de copiar e colar partes do nosso código que
são idênticos e, de fato, é um princípio extremamente forte, que pode melhorar a organização e unificar
funções, tornando um bug mais fácil de encontrar e corrigir.

Mas são mil maravilhas? não existe nenhuma maneira de isso dar errado? Bem, quando os projetos são maiores
a complexidade aumenta, e com isso, abusamos do princípio, usando-o em todos os lugares do nosso código, e é nas abstrações
que a situação começa a se complicar.

Este post se inspira fortemente na conversa de Kent C. Dodds no
post <a href="https://kentcdodds.com/blog/aha-programming">Programação AHA</a> e por Dan Abramov em

<a href='https://overreacted.io/the-wet-codebase/'>A base de código WET</a>.

## O que são abstrações?

Abstrações são basicamente funções ou componentes (se estiver usando React ou algo similar), com a intenção de automatizar
um determinado processo. Um exemplo são bibliotecas como Ant Design, MaterialUI e outras, que fornecem componentes que podem receber
certos props, e esses props são usados para <Highlight>"deixar do seu jeito"</Highlight>. Vejamos um exemplo simples.

```js
function printNameAndAge(nome, idade) {
  console.log(`${name} tem ${age} anos.`);
}

printNameAndAge('Maria', 26);
// Maria tem 26 anos.
```

Uma abstração é algo que podemos reutilizar e, se necessário, adicionar mais complexidade, como a seguinte
função, que se comporta de forma única em certas idades.

```js
function printNameAndAge(nome, idade) {
  if (idade < 18) {
    console.log(`${name} tem ${age} anos e não pode beber.`);
  } else if (idade >= 18 && idade <= 120) {
    console.log(`${name} tem ${age} anos e sabe dirigir.`);
  } senão {
    console.log(`${name} tem ${age} anos e pode se aposentar.`);
  }
}

printNameAndAge("Jonas", 235);
// Jonas tem 235 anos e pode se aposentar.
```

## O monstro da abstração errada.

Se você já usou esse princípio em um projeto mais complexo, certamente ficou confuso quando ao parar para pensar como
deve transformar um código semelhante em uma função que suporte todos os casos, e caso este projeto ficou um pouco mais longo e
complicado, então provavelmente sua abstração ganhou mais complexidade.

> Prefira a duplicação ao invés abstração errada.

<a href='https://twitter.com/sandimetz'>Sandi Metz</a>

O importante é saber quando se deve quebrar uma abstração, caso ela esteja ficando cada vez mais complexa e mais difícil de
implementar features para suportar diversos casos, a solução é quebrá-la para evitar dor de cabeça, e assim, entramos em outro
princípio da programação.

## YAGNI

"You Ain't Gonna Need It" é outro princípio de desenvolvimento de software, e
consiste em não fazer código complexo porque você <Highlight>não vai precisar</Highlight>.

As tecnologias mudam, os recursos devem ser adicionados constantemente, você não precisa se matar para colocar mil pacotes ou frameworks
diferente, basta fazer o que você precisa. Por mais que esse princípio faça todos pensarem que você não deve se esforçar, a verdade é que você não
precisa complicar muito as coisas!

## Conclusão

Por mais que esses princípios possam parecer, eles não são regras, você é livre para testar o que é melhor para você e experimentar
o que funciona, não tome o conteúdo deste post como um bom caminho a ser seguido, pois ninguém é dono da razão e eu estou muito <Highlight>longe</Highlight>
para dizer o que é certo a ser seguido. Espero que este post tenha clareado sua mente, deixe-me saber o que você gostou e se foi útil!
