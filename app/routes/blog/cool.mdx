---
title: "Valor e Referência: Porque você deve saber a diferença?"
posted: "5 20 2022"
edited: "5 20 2022"
mainImage: ""
---

## {attributes.title}

Se por algum motivo você já tentou comparar objetos ou arrays no javascript, você provavelmente ficou confuso do porque apesar de eles terem o mesmo valor, eles não são "iguais". <br/>

Isso acontece porque o javascript compara os objetos ou arrays por sua REFERENCIA e não seu real valor, podendo causar dor de cabeça caso você não saiba como isto funciona.<br/>

## Cópia por Valor <br/>

Informações primitivas, <code>String</code>, <code>Number</code>, <code>Boolean</code>, <code>undefined</code>, <code>null</code>, são chamadas assim porque ao jogarmos suas informações ou valor em alguma outra variável, esta nova variável irá copiar o seu valor, ou seja, sua informação.
<br/>
Veja o exemplo a seguir

```js
let 🍎 = "Maça"
let 💰 = 0

let 🍏 = 🍎 // "Maça"
let 👜 = 💰 // 0

console.log(🍏 === 🍎) // true
console.log(👜 === 💰) // true

````

  Ao compararmos as novas variáveis usando <code>console.log()</code>, ele vai nos retornar <code>true</code>, pois o javascript compara os valores primitivos de acordo com os seus valores.

## Cópia por Referência

  Por outro lado, os copiados por sua referência, <code>Arrays</code>, <code>Objetos</code> e <code>Funcões</code>, ao definirmos uma nova variável com suas informações, esta nova variável não irá conter o seu valor, apenas sua referência!
<br/>
Veja o exemplo a seguir

```js
const 🚗 = ["💺", "💺", "💺", "💺"]
const 🚓 = ["💺", "💺", "💺", "💺"]
const 🚘 = 🚗

console.log(🚓 === 🚗) // false
console.log(🚘 === 🚗) // true
````

  Vamos voltar um pouco no texto "esta nova variável não irá conter o seu valor, apenas sua referência!". Calma aí, se não vai ter o valor, como o javascript conseguiu comparar o 🚘 com o 🚗? E porque que 🚓 quando comparado com 🚗, o javascript nos diz que é "diferente"? A resposta é simples, comparação por referência! assim como informações primitivas que são copiadas e comparadas por valor, as não primitivas são copiadas e comparadas por referência

## Como o javascript usa essa Referência?

Referências são alocadas em um espaço na memória do seu computador, e quando nós comparamos duas informações não primitivas, por exemplo um objeto, o Javascript compara seu endereço na memória e não seu conteúdo. Vejamos mais um exemplo 

```js
const 👩‍⚕️ = {
  nome: "Bia",
  idade: 28
};

const 👩‍🍳 = 👩‍⚕️;


console.log(👩‍⚕️.nome); // Bia

👩‍🍳.nome = "Patricia";

console.log(👩‍⚕️.nome); // Patricia
console.log(👩‍🍳.nome); // Patricia
```

  Ao definirmos o nome de 👩‍🍳 para Patricia, o nome de 👩‍⚕️ também muda! Isso acontece porque o conteúdo de 👩‍🍳 é uma REFERENCIA ao conteúdo de 👩‍⚕️, então qualquer mudança que haja, em qualquer referência, o <code>Objeto</code>, <code>Array</code>, <code>Função</code> original será afetada.

## Porque saber disso é tão importante?

  Se você usa React a um tempo ou por acaso já se preocupou com problemas de performance no seu aplicativo, temos diversos hooks e funcionalidades que ajudam na performance do nosso programa, uma funcionalidade importante seria a array de dependências do <code>useEffect()</code>, se caso você colocar uma array ou objeto como dependência, a sua página não vai funcionar corretamente, pelo <code>useEffect()</code> comparar não primitivos com sua referência. Um outro exemplo é o hook <code>useCallback()</code>, utilizado para memorização de funcões, que comparam com o seu real conteúdo, previnindo a criação de uma função toda renderização. Caso queira um post falando sobre, deixe-me saber! 
